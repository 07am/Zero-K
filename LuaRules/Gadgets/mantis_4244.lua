function gadget:GetInfo()  return {    name      = "Mantis 4244",    desc      = "Workaround for Mantis 4244",    author    = "Google Frog",    date      = "5 jan 2014",    license   = "GNU GPL, v2 or later",    layer     = 0,    enabled   = true  --  loaded by default?  }endlocal paraTimeWeapons = {}Spring.Echo("Weapondefs")for i=1,#WeaponDefs do	local wd = WeaponDefs[i]	if wd.paralyzer and wd.damages.paralyzeDamageTime then 		paraTimeWeapons[i] = (wd.damages.paralyzeDamageTime or 0)/40	endend local spGetUnitHealth = Spring.GetUnitHealthfunction gadget:UnitPreDamaged(unitID, unitDefID, unitTeam, damage, paralyzer,                             weaponDefID, attackerID, attackerDefID, attackerTeam)	if paralyzer and unitID and paraTimeWeapons[weaponDefID] then -- the weapon deals paralysis damage				local health, maxHealth, paralyzeDamage = spGetUnitHealth(unitID)		if paralyzeDamage and maxHealth and paralyzeDamage > maxHealth then			local stunTime = paralyzeDamage/maxHealth - 1			if stunTime >= paraTimeWeapons[weaponDefID] then				return 0			end		end	end		return damageend